<!DOCTYPE html>
<html>
<head lang="en">
    <base href="/CitSJavascriptLib/"/>
    <meta charset="UTF-8">
    <title>Testing Proxy</title>
    <script type="text/javascript" src="lib/prototype.js"></script>
    <script type="text/javascript" data-main="lib/config.js" src="lib/require.min.js"></script>
    <script type="text/javascript">
        require(['utils/proxymanager', 'utils', 'widgets/htmlbase/text'], function (aop_mgr, utils, text_widget_factory) {
            var helloWorldWidget = text_widget_factory.newProxyWidget('hello-world-widget-1');
            helloWorldWidget.aspectBefore('value', function (args) {
                var comment = args.shift();
                if (comment === 'Hello World') {
                    comment += ', how are you!?';
                }
                args.unshift(comment);
                return args;
            });
            helloWorldWidget.value('Hello World');
            helloWorldWidget.addToDOM();
            window.setTimeout(function () {
                helloWorldWidget.value('Good night, folks!');
            }, 3000)
        });
    </script>
</head>
<body>

</body>
</html>